<!--
  Generated template for the ModalPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  	<ion-toolbar>
	    <ion-buttons start>
	      <button ion-button (click)="dismiss()">
	        <ion-icon name="arrow-back"></ion-icon>
	      </button>
	    </ion-buttons>
	    <ion-searchbar [placeholder]="searchType == 'departure' ? 'Select Departure City' : 'Select Destination City'" [(ngModel)]="keyword" (keyup)="searchAirports()"></ion-searchbar>
  	</ion-toolbar>

</ion-header>


<ion-content padding>
<div class="city-search">
	<div class="error-alert" *ngIf="keyword.length && !destinations.length">
		<ion-icon name="warning" color="danger"></ion-icon> No airport or cities found
	</div>

  <div *ngIf="destinations.length>0">
	<h6>Search Results</h6>
	<ion-list>
	  <ion-item *ngFor="let destination of destinations" (click)="selectDestination(destination)">
	    {{destination.city}}, {{destination.country}} - {{destination.name}} ({{destination.iata}})
	  </ion-item>
	</ion-list>
</div>

<div *ngIf="!destinations.length">
<h6>Top Cities</h6>
<ion-list>
  <ion-item *ngFor="let topdestination of topDestinations">
    {{topdestination.city_name}}, {{topdestination.city_code}} - {{topdestination.airport_name}} ({{topdestination.airport_code}})
  </ion-item>
</ion-list>
</div>

</div>
</ion-content>
